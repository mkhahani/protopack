<!DOCTYPE html>
<html>
<head>
  <title>Protopack Tree</title>
  <link rel="stylesheet" type="text/css" href="../style/tree/classic/classic.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="../style/tree/tango/tango.css" media="screen" />
  <script type="text/javascript" src="../lib/prototype.js"></script>
  <script type="text/javascript" src="../source/protopack.js"></script>
  <script type="text/javascript" src="../source/tree/tree.js"></script>
  <style type="text/css">
    body, button {font:12px arial;}
    body {background-color:silver;}
    h1 {font:bold 16px times; text-align:center; margin-top:100px;}
    button {height:24px;}
    #wrapper {width:400px; margin:0 auto;}
    #workspace {height:400px; border:1px solid grey; background-color:white; overflow:auto;}
    #mkh_tree {padding:20px;}
  </style>
</head>
<body>
  <h1>Protopack Tree</h1>
  <div id="wrapper">
    <div id="workspace"></div>
    <hr/>
    <div id="options">
      <form id="frm_options">
        <table><tr>
          <td>
            <input type="checkbox" name="chk_multi_select" value="multi_select" />Multi Select<br/>
          </td>
          <td>
            <input type="checkbox" name="chk_interactive" value="interactive" checked />Interactive<br/>
          </td>
        </tr></table>
      </form>
      <hr/>
      <button onclick="updateTree()">Update</button>
      <button onclick="test()">Expand</button>
    </div>
  </div>
</body>
<script>
  function updateTree() {
    var data = [
        //[0, -1, 'Root'],
        [1, 0, 'Item1', {id:'node1', className:'item-class', seq:3, style:{color:'red', fontWeight:'bold'}}],
        [2, 1, 'Item2', {id:'node2', title:'This is a hint', seq:1}],
        [4, 3, 'Item4', {id:'node4', href:'javascript:alert("linkable node!")', target:'_blank'}],
        [5, 3, 'Item5', {id:'node5', checked: true}],
        [3, 0, 'Item3', {id:'node3'}],
        [6, 5, 'Item6', {id:'node6'}],
        [7, 2, 'Item7', {id:'node7'}],
        [8, 7, 'Item8', {id:'node8', seq:2}],
        [9, 7, 'Item9', {id:'node9', seq:1}],
        [11, 20, 'ItemX', {id:'node9', seq:1}],
        [10, 0, 'Item10', {id:'node10', seq:2}]
    ];
    //var data = [ [19, 0, 19], [21, 19, 21], [22, 21, 22], [23, 0, 23], [24, 23, 24]];

    var frm = $('frm_options'),
        options = {
          multiSelect: frm.chk_multi_select.checked,
          interactive: frm.chk_interactive.checked,
          //className: 'ptree-tango'
        },
        events = {
          nodeclick: treeClick,
          nodemouseover:treeMouseOver,
          nodemouseout:treeMouseOut
        };
    tree = new Protopack.Tree('workspace', options, events);
    tree.setId('mkh_tree');
    tree.loadData(data);
    //tree.setCaption('Root');
    tree.setClassName('ptree-tango');
  }

  function treeClick(node, e) {
    //alert(tree.numberOfChildren(node.id));
    //alert(tree.hasChild(node.id));
    //tree.setSelected(node.id);
    //alert(tree2.selected);
  }
  function treeMouseOver(node, value, e) {
  }
  function treeMouseOut(node, value, e) {
  }
  
  function test() {
    tree.expand(2, true);
    //var rootNode = [0, 0, 'Root'];
    //var node = tree.dataObj.getNode(3)
    //console.log(node.getNodes(true));
    //tree2.loadData(data);
    //tree.setSelected(22);
    //tree.setCaption('MKH Tree!');

    //tree.insertNode([11, 6, 'Item11', {}, {color:'green'}]);
    //tree.deleteNode(8);
    //tree.updateNode(8, [8, 7, 'Item8', {}, {color:'green'}]);
    //tree.clearSelection();
    //tree2.clearSelection();

    //tree.setSelected(5);
    //tree2.setSelected(8);
    //alert(tree.selected);
    //alert(tree2.selected);

    //alert(tree.getText(2));
    //alert(tree2.getText([2,3,8]));
  }

  var tree;
  updateTree();
</script>
</html>